{% extends "base.html" %}

{% block title %}Stryktips Bot - Hem{% endblock %}

{% block content %}
<div class="hero">
    <h2>V칛lkommen till Stryktips Bot</h2>
    <p>Automatisk analys av veckans Stryktipskupong med odds, expertutl친tanden och v칛rdeber칛kning</p>
</div>

<div id="coupon-content">
    {% if coupon %}
        <section class="coupon-summary">
            <h3>Vecka {{ coupon.week_number }}, {{ coupon.year }}</h3>
            <p>Dragning: {{ coupon.draw_date.strftime('%Y-%m-%d %H:%M') }}</p>
            {% if coupon.jackpot_amount %}
                <p class="jackpot">Jackpot: {{ "{:,}".format(coupon.jackpot_amount).replace(',', ' ') }} kr</p>
            {% endif %}

            <div class="action-buttons">
                <a href="/coupon/{{ coupon.id }}" class="btn btn-primary">Visa kupong</a>
                <a href="/analysis/{{ coupon.id }}" class="btn btn-secondary">Visa analys</a>
            </div>
        </section>

        <section class="matches-preview">
            <h4>Matcher ({{ coupon.matches|length }})</h4>
            <div class="matches-grid">
                {% for match in coupon.matches[:5] %}
                    <div class="match-card">
                        <div class="match-number">{{ match.match_number }}</div>
                        <div class="match-teams">
                            <span class="home-team">{{ match.home_team }}</span>
                            <span class="vs">-</span>
                            <span class="away-team">{{ match.away_team }}</span>
                        </div>
                        {% if match.analysis %}
                            <div class="recommendation">
                                Rekommendation: <strong>{{ match.analysis.recommended_signs }}</strong>
                            </div>
                        {% endif %}
                    </div>
                {% endfor %}
            </div>
            {% if coupon.matches|length > 5 %}
                <p class="more-matches">... och {{ coupon.matches|length - 5 }} matcher till</p>
            {% endif %}
        </section>
    {% else %}
        <section class="no-coupon">
            <p>Ingen aktiv kupong hittades.</p>
            <button hx-post="/refresh" hx-target="#coupon-content" class="btn btn-primary">
                H칛mta kupong
            </button>
        </section>
    {% endif %}
</div>

<section class="info">
    <h3>Hur fungerar det?</h3>
    <div class="info-grid">
        <div class="info-card">
            <h4>游늵 Oddsj칛mf칬relse</h4>
            <p>H칛mtar odds fr친n flera bookmakers och ber칛knar verkliga sannolikheter</p>
        </div>
        <div class="info-card">
            <h4>游늳 V칛rdeanalys</h4>
            <p>J칛mf칬r odds med streckprocent f칬r att hitta v칛rdetecken</p>
        </div>
        <div class="info-card">
            <h4>游논 Expertkonsensus</h4>
            <p>Samlar och sammanfattar tips fr친n svenska sportexperter</p>
        </div>
        <div class="info-card">
            <h4>游꿢 Radf칬rslag</h4>
            <p>Genererar optimala rader med max 2 helgarderingar</p>
        </div>
    </div>
</section>
{% endblock %}
